# AWS Deployment

Deploy Prediction Guard on Amazon Web Services (AWS) using our managed Kubernetes deployment.

## Prerequisites

- **AWS Account** with appropriate permissions
- **AWS CLI** configured with your credentials
- **kubectl** configured for your EKS cluster
- **Access to admin panel** at admin.predictionguard.com

## Deployment Process

### 1. Create EKS Cluster

First, create an Amazon EKS cluster in your AWS account:

```bash
# Create EKS cluster
eksctl create cluster --name predictionguard-cluster --region us-west-2 --nodegroup-name workers --node-type t3.large --nodes 3 --nodes-min 1 --nodes-max 5
```

### 2. Configure kubectl

```bash
# Update kubeconfig
aws eks update-kubeconfig --region us-west-2 --name predictionguard-cluster

# Verify connection
kubectl get nodes
```

### 3. Access Admin Panel

Navigate to [admin.predictionguard.com](https://admin.predictionguard.com) and log in with your credentials.

### 4. Create Cluster in Admin Panel

1. Click **"Create Cluster"** from the dashboard
2. Select **"Advanced"** mode for full configuration
3. Configure your cluster settings:

#### General Settings
- **Cluster Name**: Choose a unique name (e.g., `aws-production-cluster`)
- **Air-Gapped Cluster**: Leave disabled for cloud deployment
- **Image Registry**: Use AWS ECR or your preferred registry
- **Hugging Face API Token**: Provide your token for model access
- **Enable Ingress**: Enable for external API access

#### AWS-Specific Configuration
- **Node Groups**: Configure your EKS node groups
- **Storage Classes**: Use EBS CSI driver for persistent volumes
- **Load Balancer**: Configure ALB or NLB for ingress
- **VPC**: Specify your VPC and subnet configuration

### 5. Download Prediction Guard Package

Download the Prediction Guard installation package:

```bash
# Download the AWS-specific package
curl -f "https://storage.googleapis.com/temp_public_pg/prediction-guard-aws.tgz?alt=media"
```

### 6. Install Prediction Guard

```bash
# Extract the package
tar xvzf prediction-guard-aws.tgz
cd prediction-guard-aws

# Run the installer with AWS-specific configuration
sudo ./prediction-guard-aws install --license license.yaml --cluster-name predictionguard-cluster
```

### 7. Bootstrap Cluster

Retrieve the bootstrap command from [admin.predictionguard.com](https://admin.predictionguard.com) by navigating to Clusters, then clicking the **Deploy** button for your cluster. Run the bootstrap command:

```bash
# Run the bootstrap command in your EKS cluster
kubectl apply -f prediction-guard-manifests/
```

### 8. Verify Installation

```bash
# Check running pods
kubectl get pods -n predictionguard

# Verify cluster health
kubectl get nodes
```

## Post-Deployment

### Access Your Cluster

Once deployed, your cluster will be accessible through:

- **Admin Panel**: Monitor and manage from admin.predictionguard.com
- **API Endpoints**: Access your deployed models via the configured endpoints
- **Kubernetes Dashboard**: Use kubectl to manage cluster resources

### AWS Integration

Your deployment will automatically integrate with:

- **EBS**: Persistent storage for models and data
- **ALB/NLB**: Load balancing for high availability
- **CloudWatch**: Monitoring and logging
- **IAM**: Service account and role management

---

**Need help?** Contact our support team for assistance with your AWS deployment.
